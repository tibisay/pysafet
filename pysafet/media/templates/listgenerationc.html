<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>SAFET - Lista de documentos</title>

<script language="javascript"> 
var safettitle = "";
var safetlistcount = 0;
document.write('<title>'+'Seguimiento de Proyectos CENDITEL' +'</title>');
</script>

    	<link rel="stylesheet" type="text/css" href="http://seguridad.cenditel.gob.ve/safet/media/yui.css" >

<style>
/*Supplemental CSS for the YUI distribution*/
#custom-doc { width: 100%; min-width: 1250px; }
#pagetitle {background-image: url(bg_hd.gif);}
#pagetitle h1 {background-image: url(title_h_bg.gif);}
</style>

<link rel="stylesheet" type="text/css" href="http://seguridad.cenditel.gob.ve/safet/media/dpSyntaxHighlighter.css">
<!--Script and CSS includes for YUI dependencies on this page-->
<link rel="stylesheet" type="text/css" href="http://seguridad.cenditel.gob.ve/safet/media/paginator.css" />
<link rel="stylesheet" type="text/css" href="http://seguridad.cenditel.gob.ve/safet/media/datatable.css" />
<link rel="stylesheet" type="text/css" href="http://seguridad.cenditel.gob.ve/safet/media/button.css" />
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/yuiloader-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/dom-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/event-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/dragdrop-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/animation-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/element-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/paginator-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/datasource-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/datatable-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/button-min.js"></script>
<script type="text/javascript" src="http://seguridad.cenditel.gob.ve/safet/media/jscharts.js"></script>

<!--begin custom header content for this example-->

<!--end custom header content for this example-->


<link rel="stylesheet" href="<TEMPLATEPATH/>styles.css" type="text/css" /> 
<script type="text/javascript">
//enable passthrough of errors from YUI Event:
if ((typeof YAHOO !== "undefined") && (YAHOO.util) && (YAHOO.util.Event)) {
	YAHOO.util.Event.throwErrors = true;
}
</script>
</head>
<body id="yahoo-com" class="yui-skin-sam">
<table>
<tbody><tr>	
</tr></tbody></table><table summary="Navigation elements." border="0" cellpadding="0" cellspacing="0" width="1024">
<tbody><tr>
<td width="1024">
<table bgcolor="#ffffff" border="0" cellpadding="0" cellspacing="0" width="1024">
	<tbody><tr>
	<td align="left" valign="bottom" width="35"><img src="<TEMPLATEPATH/>images/cabecera.png"  /></td>
	</tr>
</tbody></table>



	<table border="0" cellpadding="0" cellspacing="0">
<tr>
<td>	
   <div id="nav"> <MODULESMENU/> </div>
</td>
<td>
 <span style="font-style: italic; font-family: Georgia, 'Times New Roman', Times, serif; margin: 0; color:#fff; height: 1%; width: 50%;"> <SAFETCURRENTACCOUNT/> </span>
</td>
</tr>
</table>

    <div id="sub-header">
		<h2><img src="<TEMPLATEPATH/>/images/botontibisay.png" /> Tibisay - Reportes de Seguimiento Consolidado</h2>
    </div>
<script language="javascript"> 
var titul = 'Nuevos tickets';

document.write('<h3 id="title1">'+'Listado Solicitudes </h3>');

</script>
	<div id="complex"></div>
	<div id="mygroup0"></div>
	<div id="complex0"></div>
	<br/>
	<div id="mygroup1"></div>
	<div id="complex1"></div>
	<br/>
	<div id="mygroup2"></div>
	<div id="complex2"></div>
	<br/>
	<div id="mygroup3"></div>
	<div id="complex3"></div>
	<br/>
	<div id="mygroup4"></div>
	<div id="complex4"></div>
	<br/>
	<div id="mygroup5"></div>
	<div id="complex5"></div>
	<br/>
	<div id="mygroup6"></div>
	<div id="complex6"></div>
	<br/>
	<div id="mygroup7"></div>
	<div id="complex7"></div>
	<br/>
	<div id="mygroup8"></div>
	<div id="complex8"></div>
	<br/>
	<div id="mygroup9"></div>
	<div id="complex9"></div>
	<br/>
	<div id="mygroup10"></div>
	<div id="complex10"></div>
	<br/>
	<div id="mygroup11"></div>
	<div id="complex11"></div>
	<br/>
	<div id="mygroup12"></div>
        <div id="complex12"></div>
	<br/>
	<div id="mygroup13"></div>
        <div id="complex13"></div>
	 <br/>
        <div id="mygroup14"></div>
        <div id="complex14"></div>
        <br/>
        <div id="mygroup15"></div>
        <div id="complex15"></div>
        <br/>
        <div id="mygroup16"></div>
        <div id="complex16"></div>
        <br/>
        <div id="mygroup17"></div>
        <div id="complex17"></div>
        <br/>
        <div id="mygroup18"></div>
        <div id="complex18"></div>
        <br/>
        <div id="mygroup19"></div>
        <div id="complex19"></div>
	<br/>
	<div id="mygrats"></div>

<script type="text/javascript">
<SAFET/>
myDataTable = null;
actividades = []; //vector donde se almacenas los proyectos (Acciones especifica) necesario para hacer el grafico de barra
actividadData = []; // vector donde se alamacena los proyectos con sus respectivos porcentaje de avance necesario para hacer el grafico de barra
chartsdata = new Array(11);
selecColors= [];
var colores = ['#FF4000', '#EC7A00', '#FCD200', '#81C714', '#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#CCEEFF','#4000FF', '#2E2E2E', '#8A084B', '#1960E4', '#3CBAC5', '#7215E3', '#5882FA', '#FF0040', '#FF4000', '#00FFFF', 	'#81F781', '#A9E2F3'];

function createVectorColor(n) {
		//alert(n);
		var cont=0;
		while(cont != n) {
			selecColors[cont] = colores[cont];
			cont++;
			}
		}

//chartsString = new Array('(113820-3) Aseguramiento de calidad','(113731-1) SIGESIC','Salvapantallas',  '(113731-2) Seguridad Informatica','(113731-6) Metodologia Decisiones','(113731-4) Industrial','(113820-2) ALBA','(113820-1) Validacion de Informacion','(113731-3) Soberania alimentaria','(113731-5) Estratagica Situacional','(5000-4) Extra POA');

function sortfunction(a,b) {
	
	if (a["accion_especifica"]> b["accion_especifica"] ) {
		return 1;
	}	
	else {
		
		if (a["accion_especifica"]< b["accion_especifica"] ) {
			return -1;
		}
		else {
			return 0;
		}
	}

}

var datosstats = [];

function getAccionEspecifica(datos) {
    var newdata = [];
    alldata = [];
    datosstats = [];
    newnumbers = [0.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0];
    var cont = 1;
    //alert(datos.length);
    for(i=1; i<datos.length; i++) {
	newdata.push(datos[i-1]);
	newnumbers[0] = parseFloat(datos[i-1]["total"])+newnumbers[0];
	actividadData[i-1] = ([datos[i-1]["actividad"],parseFloat(datos[i-1]["total"])]);
	newnumbers[1] = newnumbers[1]+1;
	newnumbers[2] = parseFloat(datos[i-1]["ene"])+newnumbers[2];
	newnumbers[3] = parseFloat(datos[i-1]["feb"])+newnumbers[3];
	newnumbers[4] = parseFloat(datos[i-1]["mar"])+newnumbers[4];
	newnumbers[5] = parseFloat(datos[i-1]["abr"])+newnumbers[5];
	newnumbers[6] = parseFloat(datos[i-1]["may"])+newnumbers[6];
	newnumbers[7] = parseFloat(datos[i-1]["jun"])+newnumbers[7];
	newnumbers[8] = parseFloat(datos[i-1]["jul"])+newnumbers[8];
	newnumbers[9] = parseFloat(datos[i-1]["ago"])+newnumbers[9];
	newnumbers[10] = parseFloat(datos[i-1]["sep"])+newnumbers[10];
	newnumbers[11] = parseFloat(datos[i-1]["oct"])+newnumbers[11];
	newnumbers[12] = parseFloat(datos[i-1]["nov"])+newnumbers[12];
	newnumbers[13] = parseFloat(datos[i-1]["dic"])+newnumbers[13];
	if ( datos[i]["accion_especifica"] != datos[i-1]["accion_especifica"]  ) {
	 	alldata.push(newdata);
		datosstats.push(newnumbers);
		newdata = new Array();
		newnumbers = new Array();
    		newnumbers = [0.0,0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0,0.0];
		cont++;
	} 

	if(i+1 == datos.length) {
                actividadData[i] = ([datos[i]["actividad"],parseFloat(datos[i]["total"])]);
        }

    } 
	newdata.push(datos[i-1]);
	alldata.push(newdata);
	newnumbers[0] = parseFloat(datos[i-1]["total"])+newnumbers[0];
	newnumbers[1] = newnumbers[1]+1;
	newnumbers[2] = parseFloat(datos[i-1]["ene"])+newnumbers[2];
	newnumbers[3] = parseFloat(datos[i-1]["feb"])+newnumbers[3];
	newnumbers[4] = parseFloat(datos[i-1]["mar"])+newnumbers[4];
	newnumbers[5] = parseFloat(datos[i-1]["abr"])+newnumbers[5];
	newnumbers[6] = parseFloat(datos[i-1]["may"])+newnumbers[6];
	newnumbers[7] = parseFloat(datos[i-1]["jun"])+newnumbers[7];
	newnumbers[8] = parseFloat(datos[i-1]["jul"])+newnumbers[8];
	newnumbers[9] = parseFloat(datos[i-1]["ago"])+newnumbers[9];
	newnumbers[10] = parseFloat(datos[i-1]["sep"])+newnumbers[10];
	newnumbers[11] = parseFloat(datos[i-1]["oct"])+newnumbers[11];
	newnumbers[12] = parseFloat(datos[i-1]["nov"])+newnumbers[12];
	newnumbers[13] = parseFloat(datos[i-1]["dic"])+newnumbers[13];
	datosstats.push(newnumbers);

	return alldata;
}

var Dom = YAHOO.util.Dom;

var myRowFormatter = function(elTr, oRecord) { 
	    if (parseInt(oRecord.getData('porcentaje')) == 0) { 
	        Dom.addClass(elTr, 'mark'); 
	    } 
	    return true; 
	};  

safetproccessData = function() {



 	cuenta = 0;
	var allsafetlist = []; 
	for(i=0;i< safetlist.length;i++) {
	    cuenta = cuenta + parseInt(safetlist[i]['porcentaje']);
 	}


	var isreportactivities = safetreport.indexOf("reportesActividades.xml")!= -1;

	// para agregarle el titulo al reporte -- Reporte de Actividades por Acción Específica (20 actividades ) --
	if ( isreportactivities ) { 
		document.getElementById("title1").innerHTML=   "Reporte de Actividades por Acci&oacute;n Espec&iacute;fica  (" +  safetlistcount + " actividades )";
	}
	else {

		document.getElementById("title1").innerHTML=  safettitle + " (" + safetlistcount + ")";
	}

	if ( isreportactivities ) {
		safetlist.sort(sortfunction);
		allsafetlist = getAccionEspecifica(safetlist);
	}

        var myDataSource = new YAHOO.util.DataSource(safetlist);
        myDataSource.responseType = YAHOO.util.DataSource.TYPE_JSARRAY;

        var myConfigs = {
            paginator: new YAHOO.widget.Paginator({
                rowsPerPage: 40,
                template: YAHOO.widget.Paginator.TEMPLATE_ROWS_PER_PAGE,
                rowsPerPageOptions: [5,10,40,50,100],
                pageLinks: 5,
		formatRow: myRowFormatter
            }),
            draggableColumns:true
        }

	// Colocar formato columnas
	
	if ( isreportactivities ) {
           myConfigs = {
                  formatRow: myRowFormatter
            };

		safetcolumns.splice(2,1);
		safetcolumns.splice(0,1);
		for(i=0; i<allsafetlist.length; i++) {
      			myDataSource = new YAHOO.util.DataSource(allsafetlist[i]);
			currAvg = 0;
			currEnero = 0;
			currFebrero = 0;
			currMarzo = 0;
			currAbril = 0;
			currMayo = 0;
			currJunio = 0;
			currJulio = 0;
			currAgosto = 0;
			currSeptiembre = 0;
			currNoviembre = 0;
			currDiciembre = 0;
			currEnero = allsafetlist.length;
			if ( datosstats[i][1]>0.0 ) {
				currAvg = datosstats[i][0]/ datosstats[i][1];
				currEnero = datosstats[i][2]/ datosstats[i][1];
				currFebrero = datosstats[i][3]/ datosstats[i][1];
				currMarzo = datosstats[i][4]/ datosstats[i][1];
				currAbril = datosstats[i][5]/ datosstats[i][1];
				currMayo = datosstats[i][6]/ datosstats[i][1];
				currJunio = datosstats[i][7]/ datosstats[i][1];
				currJulio = datosstats[i][8]/ datosstats[i][1];
				currAgosto = datosstats[i][9]/ datosstats[i][1];
				if (datosstats[i][10] < 100.0 ) {
					currSeptiembre = datosstats[i][10]/ datosstats[i][1];
				}
				
				currOctubre = datosstats[i][11]/ datosstats[i][1];
				currNoviembre = datosstats[i][12]/ datosstats[i][1];
				currDiciembre = datosstats[i][13]/ datosstats[i][1];
			}
			document.getElementById("mygroup"+i).innerHTML= "<br/><br/><br/><h3>Acci&oacute;n: " + allsafetlist[i][0]["accion_especifica"]+"</h3>";
				var wcols = 48;
				safetcolumns[7]["width"]  = 55;
				safetcolumns[6]["width"]  = 18;
				safetcolumns[5]["width"]  = 50;
				safetcolumns[4]["width"]  = 50;
				safetcolumns[0]["width"]  = 120;
				safetcolumns[8]["label"] = "ene(" + currEnero.toFixed(1) + "%)";
				safetcolumns[8]["width"] = wcols;
				safetcolumns[9]["label"] = "feb(" + currFebrero.toFixed(1) + "%)";
				safetcolumns[9]["width"] = wcols;
				safetcolumns[10]["label"] = "mar(" + currMarzo.toFixed(1) + "%)";
				safetcolumns[10]["width"] = wcols;
				safetcolumns[11]["label"] = "abr(" + currAbril.toFixed(1) + "%)";
				safetcolumns[11]["width"] = wcols;
				safetcolumns[12]["label"] = "may(" + currMayo.toFixed(1) + "%)";
				safetcolumns[12]["width"] = wcols;
				safetcolumns[13]["label"] = "jun(" + currJunio.toFixed(1) + "%)";
				safetcolumns[13]["width"] = wcols;
				safetcolumns[14]["label"] = "jul(" + currJulio.toFixed(1) + "%)";
				safetcolumns[14]["width"] = wcols;
				safetcolumns[15]["label"] = "ago(" + currAgosto.toFixed(1) + "%)";
				safetcolumns[15]["width"] = wcols;
				safetcolumns[16]["label"] = "sep(" + currSeptiembre.toFixed(1) + "%)";
				safetcolumns[16]["width"] = wcols;
				safetcolumns[17]["label"] = "oct(" + currOctubre.toFixed(1) + "%)";
				safetcolumns[17]["width"] = wcols;
				safetcolumns[18]["label"] = "nov(" + currNoviembre.toFixed(1) + "%)";
				safetcolumns[18]["width"] = wcols;	
				safetcolumns[19]["label"] = "dic(" + currDiciembre.toFixed(1) + "%)";
				safetcolumns[19]["width"] = wcols;	
				safetcolumns[19]["key"] = "dic";
				safetcolumns[20]["label"] = "tot(" + currAvg.toFixed(1) + "%)";
				safetcolumns[20]["width"] = wcols;

			myDataTable = new YAHOO.widget.DataTable("complex"+i, safetcolumns, myDataSource, myConfigs);
//			document.write(charsdata[i]);
			myDataTable.subscribe("rowClickEvent",myDataTable.onEventSelectRow);
		        myDataTable.subscribe("cellDblclickEvent",myDataTable.onEventShowCellEditor);
		        myDataTable.subscribe("editorBlurEvent", myDataTable.onEventSaveCellEditor);
			myDataTable.hideColumn("ene");
                        myDataTable.hideColumn("feb");
                        myDataTable.hideColumn("mar");
                        myDataTable.hideColumn("abr");
                        myDataTable.hideColumn("may");
                        myDataTable.hideColumn("jun");
                        myDataTable.hideColumn("jul");
                        myDataTable.hideColumn("ago");
                        myDataTable.hideColumn("sep");
                        myDataTable.hideColumn("oct");
                        myDataTable.hideColumn("nov");
                        myDataTable.hideColumn("dic");

//			myDataTable.hideColumn("ene");
//			myDataTable.hideColumn("nov");

		}

	} 
	else {	

		if ( myDataTable == null ) {
        		myDataTable = new YAHOO.widget.DataTable("complex", safetcolumns, myDataSource, myConfigs);
		}
	        myDataTable.subscribe("rowClickEvent",myDataTable.onEventSelectRow);
        	myDataTable.subscribe("cellDblclickEvent",myDataTable.onEventShowCellEditor);
	        myDataTable.subscribe("editorBlurEvent", myDataTable.onEventSaveCellEditor);
 
	}

       

        return {
            oDS: myDataSource,
            oDT: myDataTable
        }



    };

safetproccessData();

</script>
	
<script language="javascript">
//	alert(actividadData.length);
	createVectorColor(actividadData.length);
	//var myData = new Array(['Mar04-Mar05', 0.0], ['Mar05-Mar06', 28], ['Mar06-Mar07', 12],['Mar07-Mar08', 17]);
	//var colors = ['#AF0202', '#EC7A00', '#FCD200', '#81C714'];
	//myChart.setDataArray(myData);
	var myChart = new JSChart('mygrats', 'bar');
	 myChart.setDataArray(actividadData);
        myChart.colorizeBars(selecColors);
        myChart.setTitle('Grafico de los porcentajes de avance de los proyectos');
        myChart.setTitleColor('#8E8E8E');
        myChart.setAxisNameX('Acciones Especificas');       
        myChart.setAxisNameY('Porcentaje de Ejecucion');      
        myChart.setAxisColor('#C4C4C4');
        myChart.setAxisNameFontSize(16);
        myChart.setAxisNameColor('#999');
        myChart.setAxisValuesColor('#7E7E7E');
        myChart.setBarValuesColor('#7E7E7E');
        myChart.setAxisPaddingTop(60);
        myChart.setAxisPaddingRight(140);
        myChart.setAxisPaddingLeft(160);
        myChart.setAxisPaddingBottom(40);
        myChart.setTextPaddingLeft(50);
        myChart.setTitleFontSize(11);
        myChart.setBarBorderWidth(1);
        myChart.setBarBorderColor('#C4C4C4');
        myChart.setBarSpacingRatio(50);
        myChart.setGrid(true);
        myChart.setSize(1400,600);
	myChart.setAxisValuesDecimals(1);
	myChart.setAxisReversed(true);
	myChart.setBarValuesDecimals(2);
	myChart.setIntervalY(0,100);
	myChart.setAxisPaddingLeft(450);
	myChart.setAxisValuesNumberY(10)
	//myChart.setAxisValuesNumberY(100);
//        myChart.setBackgroundImage('chart_bg.jpg');
        myChart.draw();

</script>
	
<SAFETRETURNCONSOLE/>

 <div id="footer">
      <div class="footer-content">

        <div class="footer-box">
 <h4>Acerca de nuestro sitio</h4>

            <p>
Sistema que contribuyendo a la planificaci&oacute;n de actividades en el
desarrollo de los proyectos. Permite automatizar los procesos que se
llevan acabo en los proyectos, gestionar flujos de trabajos con la
incorporaci&oacute;n de herramientas como la firma electrónica y estampado de
tiempo </p>
        </div>
        
        <div class="footer-box">
            <h4>CENDITEL</h4>

            <ul>
              <li><a href="http://www.cenditel.gob.ve/QuienesSomos">&iquest;Quien&eacute;s somos?</a></li>
              <li><a href="http://www.cenditel.gob.ve/ComoLoHaremos">&iquest;C&oacute;mo lo haremos?</a></li>
              <li><a href="http://www.cenditel.gob.ve/Mision">&iquest;Cual es nuestra misi&oacute;n?</a></li>
              <li><a href="http://www.cenditel.gob.ve/QueQueremos">&iquest;Qu&eacute; queremos?</a></li>
              <li><a href="http://www.cenditel.gob.ve/CualEsElImpacto">&iquest;Cu&aacute;l es el impacto?</a></li>

            </ul>
        </div>
        
        <div class="footer-box">

            <h4>Proyecto SAFET</h4>
            <ul>
                <li><a href="http://wiki.cenditel.gob.ve/wiki/safet" title="spyka Webmaster resources">Wiki</a></li>
                <li><a href="http://seguridad.cenditel.gob.ve/safet" title="Gestor del Proyecto SAFET">Gestor del proyecto (Trac)</a></li>	
        </ul></div>
        
        <div class="footer-box end-footer-box">
            <h4>Busque en nuestro sitio</h4>

            <form action="#" method="get">
                <p>
                    <input id="searchquery" size="18" name="searchterm" type="text" />

                    <input id="searchbutton" value="Buscar" class="formbutton" type="submit" />
                </p>
            </form>
        </div>     
        <div class="clear" /> 
    </div>
   <table style="border: 2px solid rgb(255, 255, 255);" width="1024">
<tbody><tr>
<td align="center">FUNDACI&Oacute;N CENTRO NACIONAL DE DESARROLLO E
INVESTIGACI&Oacute;N EN TECNOLOG&Iacute;AS LIBRES (CENDITEL) Avenida Alberto
Carnevali, v&iacute;a La Hechicera, Edificio CENDITEL. Tel&eacute;fono: (0274)6574336
- 6574958. Apartado Postal: 078. C&oacute;digo Postal: 5101A. RIF:
G-20007349-7. M&eacute;rida-Venezuela
</td></tr></tbody></table> 

</body>
</html>

